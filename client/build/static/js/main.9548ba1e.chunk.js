(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{17:function(e,t,a){e.exports=a(42)},23:function(e,t,a){},42:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(14),o=a.n(c),l=(a(23),a(3)),i=a.n(l),u=a(15),s=a(2),m=a(16),f=a.n(m),v=Object(n.createContext)();function d(e){var t=Object(n.useState)({}),a=Object(s.a)(t,2),c=a[0],o=a[1],l=Object(n.useState)(""),m=Object(s.a)(l,2),d=m[0],E=m[1];return Object(n.useEffect)(function(){var e=function(){var e=Object(u.a)(i.a.mark(function e(){var t;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.get("http://localhost:3001/search",{params:{search:d}});case 2:t=e.sent,o(t.data);case 4:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();d.length>0&&e()},[d]),r.a.createElement(v.Provider,{value:{item:c,handleSearch:function(e){E(e)}}},e.children)}function E(){var e=Object(n.useContext)(v).handleSearch,t=Object(n.useState)(""),a=Object(s.a)(t,2),c=a[0],o=a[1];return r.a.createElement("div",null,r.a.createElement("form",{onSubmit:function(t){t.preventDefault(),e(c)}},r.a.createElement("input",{type:"text",placeholder:"Enter Search...",value:c,onChange:function(e){o(e.target.value)},required:!0}),r.a.createElement("button",{type:"submit"},r.a.createElement("i",{className:"fa fa-search"}))))}var b=a(4),w=Object(n.createContext)();function h(e){var t=Object(n.useState)([]),a=Object(s.a)(t,2),c=a[0],o=a[1];Object(n.useEffect)(function(){window.localStorage.favorites&&o(JSON.parse(window.localStorage.getItem("favorites")))},[]);return r.a.createElement(w.Provider,{value:{favorites:c,addFavorite:function(e){if(window.localStorage.favorites){var t=JSON.parse(window.localStorage.getItem("favorites"));window.localStorage.setItem("favorites",JSON.stringify([].concat(Object(b.a)(t),[e])))}else window.localStorage.setItem("favorites",JSON.stringify([e]));o([].concat(Object(b.a)(c),[e]))},removeFavorite:function(e){var t=c.filter(function(t){return t.trackId!==e});o(t),window.localStorage.setItem("favorites",JSON.stringify(t))}}},e.children)}function p(e){var t=e.item,a=Object(n.useContext)(w),c=a.favorites,o=a.addFavorite,l=a.removeFavorite,i=!1;c.forEach(function(e){e.trackId===t.trackId&&(i=!0)});var u=i?r.a.createElement("button",{onClick:function(){return l(t.trackId)}},"Remove from Favorites"):r.a.createElement("button",{onClick:function(){o(t)}},"Add to Favorites");return r.a.createElement("li",{className:"list-item"},r.a.createElement("a",{href:t.trackViewUrl,target:"_blank"},r.a.createElement("img",{src:t.artworkUrl100,alt:t.artistName})),r.a.createElement("p",null,r.a.createElement("b",null,t.trackName)," ",r.a.createElement("br",null),"Genre: ",t.primaryGenreName,r.a.createElement("br",null),r.a.createElement("a",{href:t.trackViewUrl,target:"_blank"},"View on iTunes")),u)}function O(e){var t=e.name;t="undefined"===t?"other":t;var a=e.array.map(function(e,t){return r.a.createElement(p,{item:e,key:t+"-"+e.trackId})});return r.a.createElement("div",null,r.a.createElement("h1",null,t,"s:"),r.a.createElement("ul",{className:"result-container"},a))}function g(){var e=Object(n.useContext)(v).item;return Object.keys(e).map(function(t){return r.a.createElement(O,{key:"result-"+t,name:t,array:e[t]})})}function k(){var e=Object(n.useContext)(w).favorites.map(function(e,t){return r.a.createElement(p,{item:e,key:"fav-"+t})});return e.length<1?r.a.createElement("div",null):r.a.createElement("div",null,r.a.createElement("h1",null,"Favorites:"),r.a.createElement("ul",{className:"result-container"},e))}var j=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(h,null,r.a.createElement(d,null,r.a.createElement(E,null),r.a.createElement(k,null),r.a.createElement(g,null))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(j,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[17,1,2]]]);
//# sourceMappingURL=main.9548ba1e.chunk.js.map